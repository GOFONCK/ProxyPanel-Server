# Быстрый старт

## 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

## 2. Запуск панели управления

В первом терминале:
```bash
python panel_server.py
```

Вы увидите:
```
[INFO] PROXY PANEL SERVER
[INFO] HTTP Proxy:    0.0.0.0:8080
[INFO] SOCKS5 Proxy:  0.0.0.0:8090
[INFO] Client API:    0.0.0.0:8000
[INFO] Node API:      0.0.0.0:3333
```

## 3. Запуск веб-панели

Во втором терминале:
```bash
python web_panel.py
```

Откройте в браузере: http://127.0.0.1:5000/login

**Логин:** admin  
**Пароль:** admin123

## 4. Добавление ноды (опционально)

В третьем терминале:
```bash
python node_client.py
```

Нода автоматически зарегистрируется в панели.

## 5. Создание пользователя и назначение ноды

1. В веб-панели перейдите в "Пользователи"
2. Добавьте пользователя (например: user1 / pass1)
3. Перейдите в "Ноды" и добавьте ноду (если еще не добавлена)
4. Перейдите в "Назначения" и назначьте ноду пользователю

## 6. Тестирование подключения

### HTTP прокси:
```bash
curl -x http://user1:pass1@127.0.0.1:8080 https://api.ipify.org
```

### SOCKS5 прокси:
```bash
curl --socks5-hostname user1:pass1@127.0.0.1:8090 https://api.ipify.org
```

### REST API:
```bash
curl -X POST http://127.0.0.1:8000/api/login \
  -H "Content-Type: application/json" \
  -d '{"username": "user1", "password": "pass1"}'
```

## Структура файлов

- `panel_server.py` - главный сервер панели
- `web_panel.py` - веб-интерфейс администратора
- `node_client.py` - клиент для ноды
- `database.py` - модуль работы с БД
- `proxy_panel.db` - база данных (создается автоматически)

## Порты

- **5000** - веб-панель администратора
- **8080** - HTTP прокси
- **8090** - SOCKS5 прокси
- **8000** - REST API для клиентов
- **3333** - API для нод
- **1080** - порт ноды (по умолчанию)

## Важно!

⚠️ Перед использованием в продакшене:
1. Смените пароль администратора в `web_panel.py`
2. Смените `JWT_SECRET` в `panel_server.py`
3. Используйте сильные токены для нод
4. Настройте файрвол

